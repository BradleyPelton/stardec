<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="ISO-8859-1">
  <title>Deep Sky Body Search Results</title>
  <link rel="stylesheet"
        href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
        integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
        crossorigin="anonymous">
</head>
<body
        th:style="'background-image:url(' + @{/images/pillarsHuge.jpg} + ');
 background-repeat: no-repeat, repeat;
  background-size: auto;
  '">
<header class="p-3 bg-dark text-white">
  <div class="container">
    <div class="d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start">
      <a href="/" class="d-flex align-items-center mb-2 mb-lg-0 text-white text-decoration-none">
        <svg class="bi me-2" width="40" height="32" role="img" aria-label="Bootstrap"><use xlink:href="#bootstrap"></use></svg>
      </a>
    </div>
  </div>
</header>

<!--<div>-->
<!--  <input id="userName" name="userName" value="">-->
<!--</div>-->
<!--<div>-->
<!--  <input id="password" name="password" value="">-->
<!--</div>-->
<!--<div>-->
<!--  <input type="button" id="btnSave"  value="Sign in">-->
<!--</div>-->

<!-- Email input -->
<section class="vh-100 gradient-custom">
  <div class="container py-5 h-100">
    <div class="row d-flex justify-content-center align-items-center h-100">
      <div class="col-12 col-md-8 col-lg-6 col-xl-5">
        <div class="card bg-dark text-white" style="border-radius: 1rem;">
          <div class="card-body p-5 text-center">

            <div class="mb-md-5 mt-md-4 pb-5">

              <h2 class="fw-bold mb-2 text-uppercase">Login</h2>
              <p class="text-white-50 mb-5">Please enter your login and password!</p>

              <div class="form-outline form-white mb-4">
                <input type="email" id="userName" class="form-control form-control-lg" required />
                <label class="form-label" for="userName">Username</label>
              </div>

              <div class="form-outline form-white mb-4">
                <input type="password" id="password" class="form-control form-control-lg" required />
                <label class="form-label" for="password">Password</label>
              </div>

<!--              <p class="small mb-5 pb-lg-2"><a class="text-white-50" href="#!">Forgot password?</a></p>-->

              <button id="btnSave" class="btn btn-outline-light btn-lg px-5" type="submit">Login</button>

<!--              <div class="d-flex justify-content-center text-center mt-4 pt-1">-->
<!--                <a href="#!" class="text-white"><i class="fab fa-facebook-f fa-lg"></i></a>-->
<!--                <a href="#!" class="text-white"><i class="fab fa-twitter fa-lg mx-4 px-2"></i></a>-->
<!--                <a href="#!" class="text-white"><i class="fab fa-google fa-lg"></i></a>-->
<!--              </div>-->

            </div>

            <div>
              <p class="mb-0">Don't have an account? </p>
              <h4> DEFAULT USERNAME/PASSWORDS:</h4>
              <ol>
                <li>admin/password</li>
                <li>a/p</li>
                <li>username/password</li>
              </ol>
            </div>

          </div>
        </div>
      </div>
    </div>
  </div>
</section>



<script src="https://cdn.bootcss.com/jquery/1.11.3/jquery.js"></script>
<!--<script src="/jquery/1.11.3/jquery.cookie.js"></script>-->
<script>
    $(function() {
        $("#btnSave").click(function () {
            var username=$("#userName").val();
            var password=$("#password").val();
            $.ajax({
                cache: true,
                type: "POST",
                url: "/authenticate",
                contentType: "application/json;charset=UTF-8",
                data:JSON.stringify({"username":username ,"password" : password}),
                dataType: "json",
                async: false,
                error: function (request) {
                    window.alert("Invalid Username/Password");
                },
                success: function (data) {
                    //save token
                    // TODO - Fix expiration
                    document.cookie = "accessCookie=Bearer " + data.jwt + "; expires=Fri, 31 Dec 9999 23:59:59 GMT;path=/";

                    window.location.href = "/";



                    // $.cookie('name', 'value', { expires: 7 });
                    // Cookies.set('accessCookie', data.jwt);
                    // Cookies.set('accessToken', data.token);
                    // localStorage.setItem("bob","builder");
                    // localStorage.setItem("jwt",data.jwt);
                }
            });
        });
    });
</script>

<!-- Footer -->
<footer class="text-center text-lg-start bg-light text-muted">
  <!-- Section: Social media -->
  <section
          class="d-flex justify-content-center justify-content-lg-between p-4 border-bottom"
  >
    <!-- Left -->
    <div class="me-5 d-none d-lg-block">
      <span>Links</span>
    </div>
    <!-- Left -->

    <!-- Right -->
    <div>
      <a href="https://www.linkedin.com/in/bradleypelton/" class="me-4 text-reset">
        <i class="fab fa-linkedin"></i>
      </a>
      <a href="https://github.com/bradleypelton" class="me-4 text-reset">
        <i class="fab fa-github"></i>
      </a>
    </div>
    <!-- Right -->
  </section>
  <!-- Section: Social media -->

  <!-- Section: Links  -->
  <section class="">
    <div class="container text-center text-md-start mt-5">
      <!-- Grid row -->
      <div class="row mt-3">
        <!-- Grid column -->
        <div class="col-md-3 col-lg-4 col-xl-3 mx-auto mb-4">
          <!-- Content -->
          <h6 class="text-uppercase fw-bold mb-4">
            <i class="fas fa-gem me-3"></i>Starry Decisis
          </h6>
          <p>
            Spring boot app to explore celestial objects and celestial bodies.
            Data persistence with JPA/Hibernate, search functionality with Elasticsearch
          </p>
        </div>
        <!-- Grid column -->

        <!-- Grid column -->
        <div class="col-md-2 col-lg-2 col-xl-2 mx-auto mb-4">
          <!-- Links -->
          <h6 class="text-uppercase fw-bold mb-4">
            Technologies
          </h6>
          <p>
            <a href="https://www.elastic.co/" class="text-reset">Elasticsearch</a>
          </p>
          <p>
            <a href="https://spring.io/projects/spring-boot" class="text-reset">Spring boot</a>
          </p>
          <p>
            <a href="https://www.postgresql.org/" class="text-reset">Postgresql</a>
          </p>
          <p>
            <a href="https://aws.amazon.com/" class="text-reset">AWS</a>
          </p>
        </div>
        <!-- Grid column -->

        <!-- Grid column -->
        <div class="col-md-3 col-lg-2 col-xl-2 mx-auto mb-4">
          <!-- Links -->
          <h6 class="text-uppercase fw-bold mb-4">
            Useful links
          </h6>
          <p>
            <a href="https://github.com/bradleypelton" class="text-reset">Github</a>
          </p>
          <p>
            <a href="https://www.linkedin.com/in/bradleypelton/" class="text-reset">Linkedin</a>
          </p>
          <p>
            <a href="https://leetcode.com/BradleyPelton/" class="text-reset">Leetcode</a>
          </p>
          <p>
            <a href="#!" class="text-reset">Help</a>
          </p>
        </div>
        <!-- Grid column -->

        <!-- Grid column -->
        <div class="col-md-4 col-lg-3 col-xl-3 mx-auto mb-md-0 mb-4">
          <!-- Links -->
          <h6 class="text-uppercase fw-bold mb-4">
            Contact
          </h6>
          <p><i class="fas fa-home me-3"></i> New York, NY 10025, US</p>
          <p>
            <i class="fas fa-envelope me-3"></i>
            bradleypelton@gmail.com
          </p>
          <p><i class="fas fa-phone me-3"></i> (347)-832-1527 </p>
        </div>
        <!-- Grid column -->
      </div>
      <!-- Grid row -->
    </div>
  </section>
  <!-- Section: Links  -->

  <!-- Copyright -->
  <div class="text-center p-4" style="background-color: rgba(0, 0, 0, 0.05);">
    "We're made of star stuff. We are a way for the cosmos to know itself." - Carl Sagan
  </div>
  <!-- Copyright -->
</footer>
<!-- Footer -->

</body>
</html>